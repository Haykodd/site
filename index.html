<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPO CLICKER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <script type="module">
        // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', () => {

            // --- –õ–û–ö–ê–õ–ò–ó–ê–¶–ò–Ø ---
            const translations = {
                ru: {
                    selectMode: "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã",
                    kraken: "Kraken Clicker",
                    baal: "True Ba'al Clicker",
                    juzo: "Juzo Clicker",
                    hawkEye: "Hawk Eye Clicker",
                    roger: "Roger Clicker",
                    law: "Law Clicker",
                    gravito: "Gravito Clicker",
                    christmas: "Christmas Presents",
                    legendaryChest: "Legendary Fruit Chest",
                    mythicalChest: "Mythical Fruit Chest",
                    rareChest: "Rare Fruit Chest",
                    changeMode: "–í –º–µ–Ω—é",
                    uploadImage: "–°–≤–æ—ë —Ñ–æ—Ç–æ",
                    clicks: "–ü—Ä–æ–≥—Ä–µ—Å—Å –∫–ª–∏–∫–∞:",
                    pressOnce: "–ù–∞—á–Ω–∏ –æ—Ö–æ—Ç—É...",
                    stats: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                    killed: "–£–±–∏—Ç–æ:",
                    opened: "–û—Ç–∫—Ä—ã—Ç–æ:",
                    lastDrop: "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ç—Ä–æ—Ñ–µ–π",
                    history: "–ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–∏",
                    collection: "–õ–∏—á–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è",
                    nothing: "–ù–∏—á–µ–≥–æ",
                    dropChances: "–®–∞–Ω—Å—ã –¥—Ä–æ–ø–∞",
                    fruitChances: "–®–ê–ù–°–´ FRUIT",
                    legendaryOnly: "–¢–æ–ª—å–∫–æ Leg / Myth",
                    rareAndAbove: "Rare –∏ –≤—ã—à–µ",
                    allSeeingEye: "ASE (–ì–ª–∞–∑)",
                    logiaBuff: "2x Logia",
                    greatKraken: "100% –§—Ä—É–∫—Ç (GK)"
                },
                en: {
                    selectMode: "Select Game Mode",
                    kraken: "Kraken Clicker",
                    baal: "True Ba'al Clicker",
                    juzo: "Juzo Clicker",
                    hawkEye: "Hawk Eye Clicker",
                    roger: "Roger Clicker",
                    law: "Law Clicker",
                    gravito: "Gravito Clicker",
                    christmas: "Christmas Presents",
                    legendaryChest: "Legendary Fruit Chest",
                    mythicalChest: "Mythical Fruit Chest",
                    rareChest: "Rare Fruit Chest",
                    changeMode: "Back to Menu",
                    uploadImage: "Custom Photo",
                    clicks: "Click Progress:",
                    pressOnce: "Start the hunt...",
                    stats: "Statistics",
                    killed: "Killed:",
                    opened: "Opened:",
                    lastDrop: "Last Drop",
                    history: "Drop History",
                    collection: "Mode Collection",
                    nothing: "Nothing",
                    dropChances: "Drop Chances",
                    fruitChances: "Fruit Probabilities",
                    legendaryOnly: "Leg / Myth Only",
                    rareAndAbove: "Rare and Above",
                    allSeeingEye: "ASE (Eye)",
                    logiaBuff: "2x Logia",
                    greatKraken: "100% Fruit (GK)"
                }
            };

            // –£–°–¢–ê–ù–û–í–ö–ê –ê–ù–ì–õ–ò–ô–°–ö–û–ì–û –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ
            let currentLang = 'en';

            // --- –ö–ê–†–¢–ò–ù–ö–ò –†–ï–ñ–ò–ú–û–í ---
            const modeImages = {
                kraken: 'Kraken.png',
                baal: 'TBaal.png',
                juzo: 'Juzo.png',
                hawkEye: 'Mihawk.png',
                roger: 'Roger.png',
                law: 'Law.png',
                gravito: 'Gravito.webp',
                christmasPresents: 'https://placehold.co/300x300/10B981/FFFFFF?text=Christmas+Presents',
                legendaryChest: 'https://placehold.co/300x300/EAB308/1F2937?text=Legendary+Chest',
                mythicalChest: 'https://placehold.co/300x300/EF4444/1F2937?text=Mythical+Chest',
                rareChest: 'https://placehold.co/300x300/3B82F6/1F2937?text=Rare+Chest'
            };

            // --- –≠–õ–ï–ú–ï–ù–¢–´ DOM ---
            const modeSelector = document.getElementById('modeSelector');
            const gameContainer = document.getElementById('gameContainer');
            const clickerTitle = document.getElementById('clickerTitle');
            const killCountLabel = document.getElementById('killCountLabel');
            const mainHeader = document.getElementById('mainHeader');

            const modes = ['Kraken', 'Baal', 'Juzo', 'HawkEye', 'Roger', 'Law', 'Gravito', 'ChristmasPresents', 'LegendaryChest', 'MythicalChest', 'RareChest'];
            const selectors = {};
            modes.forEach(m => selectors[m] = document.getElementById(`select${m}`));

            const resetModeButton = document.getElementById('resetModeButton');
            const clickTarget = document.getElementById('clickTarget');
            const clickCountDisplay = document.getElementById('clickCountDisplay');

            const btnX1 = document.getElementById('btnX1');
            const btnX10 = document.getElementById('btnX10');
            const btnX100 = document.getElementById('btnX100');
            const btnX1000 = document.getElementById('btnX1000');

            const chanceBlocks = {};
            ['kraken', 'baal', 'juzo', 'hawkEye', 'roger', 'law', 'gravito', 'christmasPresents', 'legendaryChest', 'mythicalChest', 'rareChest'].forEach(m => {
                chanceBlocks[m] = document.getElementById(`${m}Chances`);
            });

            const fruitChancesContainer = document.getElementById('fruitChancesContainer');
            const fruitCollectionContainer = document.getElementById('fruitCollectionContainer'); 

            const killCountEl = document.getElementById('killCount');
            const lastDropDisplay = document.getElementById('lastDropDisplay');
            const dropList = document.getElementById('dropList');
            const fruitCollectionList = document.getElementById('fruitCollectionList'); 

            // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏
            const toggles = {
                ASE: [document.getElementById('toggleASE'), document.getElementById('toggleLFC_ASE'), document.getElementById('toggleRFCR_ASE')],
                Logia: [document.getElementById('toggleLogia'), document.getElementById('toggleLFCLogia'), document.getElementById('toggleRFCRLogia')],
                GreatKraken: document.getElementById('toggleGreatKraken'),
                Drop2x: document.getElementById('toggle2xDrop'),
                Drop4x: document.getElementById('toggle4xDrop')
            };

            // --- –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ ---
            let clickCount = 0;
            let killCount = 0;
            let currentMode = '';
            const CLICKS_PER_KILL = 1;

            let lastDroppedItemName = null;
            let lastDropListItem = null;
            let lastDropCount = 1;

            let isASEActive = false;
            let isLogiaActive = false;
            let isGreatKrakenActive = false;
            let is2xDropActive = false;
            let is4xDropActive = false;

            // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
            let modeCollections = {
                kraken: {}, baal: {}, juzo: {}, hawkEye: {}, roger: {},
                law: {}, gravito: {}, christmasPresents: {},
                legendaryChest: {}, mythicalChest: {}, rareChest: {}
            };

            // --- –ë–ê–ó–´ –î–ê–ù–ù–´–• –î–†–û–ü–ê ---
            const krakenRewards = [
                { name: "Mysterious Book", chance: 15, color: "text-yellow-400" },
                { name: "Book of Spirits", chance: 45, color: "text-green-400" },
                { name: "Kraken Armor", chance: 1, color: "text-red-500" },
                { name: "Kraken Cape", chance: 5, color: "text-yellow-400" },
                { name: "Kraken Blade", chance: 1, color: "text-red-500" },
                { name: "Kraken Katana", chance: 1, color: "text-red-500" },
                { name: "Kraken Core", chance: 1, color: "text-red-500" },
                { name: "Devil Fruit", chance: 1, color: "text-purple-400" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 30, color: "text-gray-500" },
            ];
            const baalRewards = [
                { name: "True Ba'al's Snake Fire", chance: 20, color: "text-yellow-400" },
                { name: "True Ba'al's Snake Head", chance: 5, color: "text-purple-400" },
                { name: "True Ba'al's Horns", chance: 5, color: "text-purple-400" },
                { name: "True Ba'al's Guard", chance: 2, color: "text-purple-400" },
                { name: "Hollow's Great Sword", chance: 2, color: "text-purple-400" },
                { name: "Hollow's World Ender", chance: 1, color: "text-red-500" },
                { name: "Prestige World Ender", chance: 0.001, color: "text-red-500 animate-pulse font-black" },
                { name: "Endbringer Wings", chance: 1, color: "text-red-500" },
                { name: "Endbringer Armor", chance: 1, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 62.999, color: "text-gray-500" },
            ];
            const juzoRewards = [
                { name: "Kira Kira no Mi", chance: 5, color: "text-purple-400" },
                { name: "Turtleback Helmet", chance: 1, color: "text-purple-400" },
                { name: "Turtleback Armor", chance: 1, color: "text-purple-400" },
                { name: "Mythical Fruit Chest", chance: 0.5, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 92.5, color: "text-gray-500" },
            ];
            const hawkEyeRewards = [
                { name: "Mihawk's hat", chance: 1, color: "text-purple-400" },
                { name: "Hawk Eye's Outfit", chance: 1, color: "text-purple-400" },
                { name: "Triple Strongest Slash Scroll", chance: 1, color: "text-purple-400" },
                { name: "Legendary fruit chest blue-print", chance: 1, color: "text-yellow-400" },
                { name: "Dark Blade", chance: 0.5, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 95.5, color: "text-gray-500" },
            ];
            const rogerRewards = [
                { name: "Legendary Fruit Chest Blueprint", chance: 1, color: "text-yellow-400" },
                { name: "Roger's Hat", chance: 1, color: "text-yellow-400" },
                { name: "Roger's Outfit", chance: 1, color: "text-yellow-400" },
                { name: "Roger's Ace", chance: 0.5, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 96.5, color: "text-gray-500" },
            ];
            const lawRewards = [
                { name: "Law's Outfit", chance: 15, color: "text-purple-400" },
                { name: "Law's Cape", chance: 15, color: "text-purple-400" },
                { name: "Law's Cap", chance: 5, color: "text-purple-400" },
                { name: "Ope Scramble", chance: 1, color: "text-yellow-400" },
                { name: "Kikoku", chance: 0.5, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 63.5, color: "text-gray-500" },
            ];
            const gravitoRewards = [
                { name: "Gravito's Cape", chance: 35, color: "text-green-400" },
                { name: "Gravity Blade", chance: 15, color: "text-blue-400" },
                { name: "Hoverboard", chance: 1, color: "text-red-500" },
                { name: "Meteor Strike", chance: 1, color: "text-red-500" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 48, color: "text-gray-500" },
            ];
            const christmasRewards = [
                { name: "Iceborn candy cane", chance: 0.005, color: "rainbow-text font-black" },
                { name: "–ù–∏—á–µ–≥–æ", chance: 99.995, color: "text-gray-500" }
            ];

            // --- –°–ü–ò–°–ö–ò –§–†–£–ö–¢–û–í ---
            const fruitListsByRarity = {
                // –î–û–ë–ê–í–õ–ï–ù–´ Dragon –∏ Soul
                Mythical: ["Tori", "Mochi", "Ope", "Venom", "Buddha", "Pteranodon", "Dragon", "Soul"],
                Legendary: ["Mera", "Pika", "Hie", "Magu", "Goro", "Gura", "Zushi", "Suna", "Ito", "Paw", "Kage", "Yami", "Goru", "Smoke", "Yuki"],
                Epic: ["Yomi", "Spring", "Kira"],
                Rare: ["Bari", "Mero", "Horo", "Gomu", "Bomu"],
                Common: ["Suke", "Kilo", "Spin", "Heal"]
            };

            const fruitRarityChances = {
                none: [{ name: "Common", chance: 59.5, color: "text-gray-300" }, { name: "Rare", chance: 26, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 4, color: "text-yellow-400" }, { name: "Mythical", chance: 0.5, color: "text-red-500" }],
                oneActive: [{ name: "Common", chance: 54, color: "text-gray-300" }, { name: "Rare", chance: 26, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 8, color: "text-yellow-400" }, { name: "Mythical", chance: 1, color: "text-red-500" }],
                bothActive: [{ name: "Common", chance: 44, color: "text-gray-300" }, { name: "Rare", chance: 26, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 16, color: "text-yellow-400" }, { name: "Mythical", chance: 2, color: "text-red-500" }]
            };

            const lfcRarityChances = {
                none: [{ name: "Legendary", chance: 99.5, color: "text-yellow-400" }, { name: "Mythical", chance: 0.5, color: "text-red-500" }],
                oneActive: [{ name: "Legendary", chance: 99, color: "text-yellow-400" }, { name: "Mythical", chance: 1, color: "text-red-500" }],
                bothActive: [{ name: "Legendary", chance: 98, color: "text-yellow-400" }, { name: "Mythical", chance: 2, color: "text-red-500" }]
            };

            const mfcRarityChances = {
                none: [{ name: "Mythical", chance: 100, color: "text-red-500" }],
                oneActive: [{ name: "Mythical", chance: 100, color: "text-red-500" }],
                bothActive: [{ name: "Mythical", chance: 100, color: "text-red-500" }]
            };

            const rfcRarityChances = {
                none: [{ name: "Rare", chance: 87.5, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 2, color: "text-yellow-400" }, { name: "Mythical", chance: 0.5, color: "text-red-500" }],
                oneActive: [{ name: "Rare", chance: 85, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 4, color: "text-yellow-400" }, { name: "Mythical", chance: 1, color: "text-red-500" }],
                bothActive: [{ name: "Rare", chance: 80, color: "text-blue-400" }, { name: "Epic", chance: 10, color: "text-purple-400" }, { name: "Legendary", chance: 8, color: "text-yellow-400" }, { name: "Mythical", chance: 2, color: "text-red-500" }]
            };

            // --- –õ–û–ì–ò–ö–ê ---
            function getCurrentMultiplier() {
                if (is4xDropActive) return 4;
                if (is2xDropActive) return 2;
                return 1;
            }

            function applyLocalization() {
                const t = translations[currentLang];
                mainHeader.textContent = t.selectMode;
                resetModeButton.textContent = t.changeMode;
                
                selectors.Kraken.querySelector('h2').textContent = t.kraken;
                selectors.Baal.querySelector('h2').textContent = t.baal;
                selectors.Juzo.querySelector('h2').textContent = t.juzo;
                selectors.HawkEye.querySelector('h2').textContent = t.hawkEye;
                selectors.Roger.querySelector('h2').textContent = t.roger;
                selectors.Law.querySelector('h2').textContent = t.law;
                selectors.Gravito.querySelector('h2').textContent = t.gravito;
                selectors.ChristmasPresents.querySelector('h2').textContent = t.christmas;
                selectors.LegendaryChest.querySelector('h2').textContent = t.legendaryChest;
                selectors.MythicalChest.querySelector('h2').textContent = t.mythicalChest;
                selectors.RareChest.querySelector('h2').textContent = t.rareChest;

                document.querySelectorAll('.stat-header').forEach(el => el.textContent = t.stats);
                document.querySelectorAll('.last-drop-header').forEach(el => el.textContent = t.lastDrop);
                document.querySelectorAll('.history-header').forEach(el => el.textContent = t.history);
                document.querySelectorAll('.collection-header').forEach(el => el.textContent = t.collection);
                document.querySelectorAll('.fruit-chances-header').forEach(el => el.textContent = t.fruitChances);
                document.querySelectorAll('.label-ase').forEach(el => el.textContent = t.allSeeingEye);
                document.querySelectorAll('.label-logia').forEach(el => el.textContent = t.logiaBuff);
                document.querySelectorAll('.clicks-label-text').forEach(el => el.textContent = t.clicks);

                if (document.querySelector('.label-great-kraken')) document.querySelector('.label-great-kraken').textContent = t.greatKraken;
                document.querySelectorAll('.label-nothing').forEach(el => el.textContent = t.nothing);

                if (currentMode) setGameMode(currentMode);
            }

            function syncBuffs() {
                toggles.ASE.forEach(t => { if(t) t.checked = isASEActive; });
                toggles.Logia.forEach(t => { if(t) t.checked = isLogiaActive; });
                updateAllChanceUI();
            }

            function setGameMode(mode) {
                currentMode = mode;
                const t = translations[currentLang];
                modeSelector.classList.add('hidden');
                gameContainer.classList.remove('hidden');

                Object.values(chanceBlocks).forEach(el => el?.classList.add('hidden'));
                if (fruitChancesContainer) fruitChancesContainer.classList.add('hidden');
                if (fruitCollectionContainer) fruitCollectionContainer.classList.remove('hidden');

                const modeTitleMap = {
                    kraken: t.kraken, baal: t.baal, juzo: t.juzo,
                    hawkEye: t.hawkEye, roger: t.roger, law: t.law,
                    gravito: t.gravito, christmasPresents: t.christmas,
                    legendaryChest: t.legendaryChest, mythicalChest: t.mythicalChest,
                    rareChest: t.rareChest
                };

                if (clickerTitle) clickerTitle.textContent = modeTitleMap[mode];
                if (killCountLabel) killCountLabel.textContent = (mode.includes('Chest') || mode === 'christmasPresents') ? t.opened : t.killed;

                if (chanceBlocks[mode]) chanceBlocks[mode].classList.remove('hidden');
                if (mode === 'kraken') {
                    if (fruitChancesContainer) fruitChancesContainer.classList.remove('hidden');
                }

                resetGameUI();
                syncBuffs();
                refreshCollectionUI(); 
                clickTarget.src = modeImages[mode] || 'https://placehold.co/300x300?text=Click+Me';
            }

            function resetGameUI() {
                clickCount = 0;
                killCount = 0;
                lastDroppedItemName = null;
                lastDropListItem = null;
                lastDropCount = 1;
                if (clickCountDisplay) clickCountDisplay.textContent = `0 / ${CLICKS_PER_KILL}`;
                if (killCountEl) killCountEl.textContent = '0';
                if (lastDropDisplay) {
                    lastDropDisplay.textContent = translations[currentLang].pressOnce;
                    lastDropDisplay.className = "text-center text-gray-400 p-4 bg-gray-900/50 rounded-xl min-h-[64px] flex items-center justify-center font-bold shadow-inner";
                }
                if (dropList) dropList.innerHTML = '';
            }

            function refreshCollectionUI() {
                if (!fruitCollectionList) return;
                fruitCollectionList.innerHTML = '';
                const currentColl = modeCollections[currentMode] || {};
                const t = translations[currentLang];
                
                for (let [itemName, count] of Object.entries(currentColl)) {
                    let displayItemName = itemName === "–ù–∏—á–µ–≥–æ" ? t.nothing : itemName;
                    let itemColor = "text-gray-300";
                    const allRewards = [...krakenRewards, ...baalRewards, ...juzoRewards, ...hawkEyeRewards, ...rogerRewards, ...lawRewards, ...gravitoRewards, ...christmasRewards];
                    const rewardData = allRewards.find(r => r.name === itemName);
                    if (rewardData) itemColor = rewardData.color;
                    else {
                        for (const rarity in fruitListsByRarity) {
                            if (fruitListsByRarity[rarity].includes(itemName)) {
                                if (rarity === "Mythical") itemColor = "text-red-500";
                                else if (rarity === "Legendary") itemColor = "text-yellow-400";
                                else if (rarity === "Epic") itemColor = "text-purple-400";
                                else if (rarity === "Rare") itemColor = "text-blue-400";
                                break;
                            }
                        }
                    }

                    const safeId = `coll-${itemName.replace(/\s+/g, '-').replace(/'/g, '')}`;
                    const li = document.createElement('li');
                    li.id = safeId;
                    li.className = `flex justify-between items-center ${itemColor} font-medium py-2 px-1 border-b border-gray-800/30`;
                    li.innerHTML = `<p>${displayItemName}</p><span class="text-sm px-2 py-0.5 bg-gray-900/50 rounded-full text-gray-400 font-bold">x${count}</span>`;
                    fruitCollectionList.appendChild(li);
                }
            }

            function getRewardFromList(rewardsList, useMultipliers = true) {
                let chances = [...rewardsList];
                const mult = useMultipliers ? getCurrentMultiplier() : 1;
                if (mult > 1) {
                    let multipliedChances = chances.map(item => {
                        if (item.name === "–ù–∏—á–µ–≥–æ") return { ...item };
                        return { ...item, chance: item.chance * mult };
                    });
                    const totalChance = multipliedChances.reduce((acc, item) => item.name !== "–ù–∏—á–µ–≥–æ" ? acc + item.chance : acc, 0);
                    const nothingItem = multipliedChances.find(item => item.name === "–ù–∏—á–µ–≥–æ");
                    if (nothingItem) nothingItem.chance = Math.max(0, 100 - totalChance);
                    chances = multipliedChances;
                }
                const totalWeight = chances.reduce((acc, r) => acc + r.chance, 0);
                let random = Math.random() * totalWeight;
                for (const reward of chances) {
                    if (random < reward.chance) return reward;
                    random -= reward.chance;
                }
            }

            function getFruitReward(chanceSet, useModifiers) {
                let key = (isASEActive && isLogiaActive) ? 'bothActive' : (isASEActive || isLogiaActive ? 'oneActive' : 'none');
                let chancesList = chanceSet[key];
                const mult = (currentMode === 'kraken' || currentMode === 'christmasPresents') ? getCurrentMultiplier() : 1;
                if (mult > 1) {
                    let multiplied = chancesList.map(item => ({ ...item, chance: item.chance * mult }));
                    const total = multiplied.reduce((acc, i) => acc + i.chance, 0);
                    if (total > 100) {
                        const scale = 100 / total;
                        multiplied = multiplied.map(i => ({ ...i, chance: i.chance * scale }));
                    } else {
                        const common = multiplied.find(i => i.name === "Common");
                        if (common) common.chance += (100 - total);
                    }
                    chancesList = multiplied;
                }
                const rarity = getRewardFromList(chancesList, false);
                const list = fruitListsByRarity[rarity.name];
                return { name: list[Math.floor(Math.random() * list.length)], color: rarity.color, rarity: rarity.name };
            }

            function updateAllChanceUI() {
                const mult = getCurrentMultiplier();
                const updateNode = (id, base) => {
                    const el = document.getElementById(id);
                    if (el) el.textContent = (base * mult).toFixed(base < 1 ? 3 : 1);
                };
                const updateNothingNode = (id, items) => {
                    const el = document.getElementById(id);
                    if (el) {
                        let total = items.reduce((acc, i) => acc + (i.base * mult), 0);
                        el.textContent = Math.max(0, 100 - total).toFixed(items.some(i => i.base < 1) ? 3 : 1);
                    }
                };

                let key = (isASEActive && isLogiaActive) ? 'bothActive' : (isASEActive || isLogiaActive ? 'oneActive' : 'none');
                updateNode('chance-k-book', 15); updateNode('chance-k-spirits', 45); 
                updateNothingNode('chance-k-nothing', [{base:15},{base:45},{base:1},{base:5},{base:1},{base:1},{base:1},{base:1}]);
                updateNode('chance-xm-cane-ice', 0.005); updateNothingNode('chance-xm-nothing', [{base:0.005}]);
                updateNode('chance-b-prestige', 0.001); updateNothingNode('chance-b-nothing', [{base:20},{base:5},{base:5},{base:2},{base:2},{base:1},{base:0.001},{base:1},{base:1}]);

                updateNode('chance-j-kira', 5); updateNode('chance-j-chest', 0.5); updateNothingNode('chance-j-nothing', [{base:5},{base:0.5},{base:1},{base:1}]);
                updateNode('chance-h-blade', 0.5); updateNothingNode('chance-h-nothing', [{base:1},{base:1},{base:1},{base:1},{base:0.5}]);
                updateNode('chance-r-ace', 0.5); updateNothingNode('chance-r-nothing', [{base:1},{base:1},{base:1},{base:0.5}]);
                updateNode('chance-l-kikoku', 0.5); updateNothingNode('chance-l-nothing', [{base:15},{base:15},{base:5},{base:1},{base:0.5}]);
                updateNode('chance-g-hoverboard', 1); updateNothingNode('chance-g-nothing', [{base:35},{base:15},{base:1},{base:1}]);

                let fList = fruitRarityChances[key];
                const setF = (id, name) => { const el = document.getElementById(id); if (el) el.textContent = fList.find(i => i.name === name).chance.toFixed(1); };
                setF('chanceCommon', 'Common'); setF('chanceLegendary', 'Legendary'); setF('chanceMythical', 'Mythical');
                
                const lfcSet = lfcRarityChances[key];
                const lfcMyth = document.getElementById('lfc_myth_chance');
                if(lfcMyth) lfcMyth.textContent = lfcSet.find(i => i.name === "Mythical").chance.toFixed(1);
            }

            function displayReward(reward) {
                const t = translations[currentLang];
                if (!reward || !reward.name || reward.name === "–ù–∏—á–µ–≥–æ") {
                    if (lastDropDisplay) {
                        lastDropDisplay.textContent = t.nothing;
                        lastDropDisplay.className = "text-center text-gray-500 text-lg p-4 bg-gray-900/50 rounded-xl min-h-[64px] flex items-center justify-center font-bold shadow-inner";
                    }
                    lastDroppedItemName = "–ù–∏—á–µ–≥–æ";
                    return;
                }
                const itemName = reward.name;
                const itemColor = reward.color || "text-gray-300";
                if (lastDropDisplay) {
                    lastDropDisplay.textContent = itemName;
                    lastDropDisplay.className = `text-center text-lg p-4 bg-gray-900/50 rounded-xl min-h-[64px] flex items-center justify-center font-bold shadow-inner ${itemColor}`;
                }
                if (itemName === lastDroppedItemName && lastDropListItem) {
                    lastDropCount++;
                    lastDropListItem.querySelector('span.count-badge').textContent = `x${lastDropCount}`;
                } else {
                    lastDropCount = 1;
                    lastDroppedItemName = itemName;
                    const li = document.createElement('li');
                    li.className = `flex justify-between items-center ${itemColor} font-medium py-2 px-2 bg-gray-900/20 rounded mb-1`;
                    li.innerHTML = `<p>${itemName}</p><span class="count-badge text-xs text-gray-500 font-bold"></span>`;
                    if (dropList) dropList.prepend(li);
                    lastDropListItem = li;
                }
                if (!modeCollections[currentMode]) modeCollections[currentMode] = {};
                modeCollections[currentMode][itemName] = (modeCollections[currentMode][itemName] || 0) + 1;
                const safeId = `coll-${itemName.replace(/\s+/g, '-').replace(/'/g, '')}`;
                let collLi = document.getElementById(safeId);
                if (!collLi) {
                    collLi = document.createElement('li');
                    collLi.id = safeId;
                    collLi.className = `flex justify-between items-center ${itemColor} font-medium py-2 px-1 border-b border-gray-800/30`;
                    collLi.innerHTML = `<p>${itemName}</p><span class="text-sm px-2 py-0.5 bg-gray-900/50 rounded-full text-gray-400 font-bold">x1</span>`;
                    if (fruitCollectionList) fruitCollectionList.appendChild(collLi);
                } else {
                    collLi.querySelector('span').textContent = `x${modeCollections[currentMode][itemName]}`;
                }
            }

            function processOpening(amount) {
                if (!currentMode) return;
                for (let i = 0; i < amount; i++) {
                    let reward;
                    switch (currentMode) {
                        case 'kraken': reward = isGreatKrakenActive ? getFruitReward(fruitRarityChances, true) : getRewardFromList(krakenRewards); if (reward?.name === "Devil Fruit") reward = getFruitReward(fruitRarityChances, true); break;
                        case 'baal': reward = getRewardFromList(baalRewards); break;
                        case 'juzo': reward = getRewardFromList(juzoRewards); break;
                        case 'hawkEye': reward = getRewardFromList(hawkEyeRewards); break;
                        case 'roger': reward = getRewardFromList(rogerRewards); break;
                        case 'law': reward = getRewardFromList(lawRewards); break;
                        case 'gravito': reward = getRewardFromList(gravitoRewards); break;
                        case 'christmasPresents': reward = getRewardFromList(christmasRewards); break;
                        case 'legendaryChest': reward = getFruitReward(lfcRarityChances, true); break;
                        case 'mythicalChest': {
                            const list = fruitListsByRarity.Mythical;
                            reward = { name: list[Math.floor(Math.random() * list.length)], color: "text-red-500", rarity: "Mythical" };
                            break;
                        }
                        case 'rareChest': reward = getFruitReward(rfcRarityChances, true); break;
                    }
                    displayReward(reward);
                }
                killCount += amount;
                if (killCountEl) killCountEl.textContent = killCount;
            }

            clickTarget.addEventListener('click', () => {
                clickCount++;
                if (clickCountDisplay) clickCountDisplay.textContent = `${clickCount} / ${CLICKS_PER_KILL}`;
                if (clickCount >= CLICKS_PER_KILL) {
                    clickCount = 0;
                    if (clickCountDisplay) clickCountDisplay.textContent = `0 / ${CLICKS_PER_KILL}`;
                    processOpening(1);
                }
            });

            btnX1?.addEventListener('click', () => processOpening(1));
            btnX10?.addEventListener('click', () => processOpening(10));
            btnX100?.addEventListener('click', () => processOpening(100));
            btnX1000?.addEventListener('click', () => processOpening(1000));

            toggles.ASE.forEach(t => t?.addEventListener('change', e => { isASEActive = e.target.checked; syncBuffs(); }));
            toggles.Logia.forEach(t => t?.addEventListener('change', e => { isLogiaActive = e.target.checked; syncBuffs(); }));
            toggles.GreatKraken.addEventListener('change', e => isGreatKrakenActive = e.target.checked);
            toggles.Drop2x.addEventListener('change', e => { is2xDropActive = e.target.checked; if (is2xDropActive) { is4xDropActive = false; if (toggles.Drop4x) toggles.Drop4x.checked = false; } updateAllChanceUI(); });
            toggles.Drop4x.addEventListener('change', e => { is4xDropActive = e.target.checked; if (is4xDropActive) { is2xDropActive = false; if (toggles.Drop2x) toggles.Drop2x.checked = false; } updateAllChanceUI(); });

            modes.forEach(m => selectors[m]?.addEventListener('click', () => setGameMode(m.charAt(0).toLowerCase() + m.slice(1))));
            if (resetModeButton) resetModeButton.addEventListener('click', () => { gameContainer.classList.add('hidden'); modeSelector.classList.remove('hidden'); resetGameUI(); });

            document.getElementById('langRU').addEventListener('click', () => { currentLang = 'ru'; applyLocalization(); });
            document.getElementById('langEN').addEventListener('click', () => { currentLang = 'en'; applyLocalization(); });

            applyLocalization(); 
        });
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background: radial-gradient(circle at top, #1f2937 0%, #111827 100%); }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #374151; border-radius: 20px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #4b5563; }
        
        .glass { background: rgba(31, 41, 55, 0.6); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        
        @keyframes rainbow {
            0% { color: #ff3e3e; } 20% { color: #f9ff3e; } 40% { color: #3eff4e; } 60% { color: #3eb4ff; } 80% { color: #b43eff; } 100% { color: #ff3e3e; }
        }
        .rainbow-text { animation: rainbow 2s linear infinite; }
        
        .mode-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .mode-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3); border-color: rgba(255,255,255,0.2); }
        
        input[type="checkbox"] { filter: hue-rotate(180deg) brightness(1.2); }
    </style>
</head>

<body class="text-gray-100 min-h-screen">

    <!-- Header Panel -->
    <header class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
             <div class="w-10 h-10 rounded-lg bg-cyan-600 flex items-center justify-center font-black text-xl shadow-lg shadow-cyan-900/20">G</div>
             <span class="font-bold text-lg hidden sm:inline tracking-tighter uppercase">GPO <span class="text-cyan-500">CLICKER</span></span>
        </div>
        <div class="flex gap-2">
            <div class="glass px-1 py-1 rounded-lg flex">
                <button id="langRU" class="px-3 py-1.5 rounded-md text-xs font-bold transition hover:bg-white/10 active:scale-95">RU</button>
                <button id="langEN" class="px-3 py-1.5 rounded-md text-xs font-bold transition hover:bg-white/10 active:scale-95">EN</button>
            </div>
        </div>
    </header>

    <!-- –≠–∫—Ä–∞–Ω –í—ã–±–æ—Ä–∞ -->
    <div id="modeSelector" class="w-full max-w-7xl mx-auto px-4 mt-8 pb-12">
        <h1 id="mainHeader" class="text-3xl sm:text-5xl font-extrabold text-center mb-10 tracking-tight text-white/90"></h1>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 text-center">
            <div id="selectKraken" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-cyan-500/50">
                <div class="text-4xl mb-3">üêô</div><h2 class="text-xl font-bold"></h2>
            </div>
            <div id="selectBaal" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-orange-500/50">
                <div class="text-4xl mb-3">üî•</div><h2 class="text-xl font-bold text-orange-400"></h2>
            </div>
            <div id="selectJuzo" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-green-500/50">
                <div class="text-4xl mb-3">üõ°Ô∏è</div><h2 class="text-xl font-bold text-green-400"></h2>
            </div>
            <div id="selectHawkEye" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-red-600/50">
                <div class="text-4xl mb-3">‚öîÔ∏è</div><h2 class="text-xl font-bold text-red-500"></h2>
            </div>
            <div id="selectRoger" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-yellow-400/50">
                <div class="text-4xl mb-3">üëë</div><h2 class="text-xl font-bold text-yellow-400"></h2>
            </div>
            <div id="selectLaw" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-white/50">
                <div class="text-4xl mb-3">üíä</div><h2 class="text-xl font-bold"></h2>
            </div>
            <div id="selectGravito" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-cyan-300/50">
                <div class="text-4xl mb-3">‚òÑÔ∏è</div><h2 class="text-xl font-bold text-cyan-300"></h2>
            </div>
            <div id="selectChristmasPresents" class="mode-card bg-green-900/40 backdrop-blur-xl p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-white/50">
                <div class="text-4xl mb-3">üéÅ</div><h2 class="text-xl font-bold"></h2>
            </div>
            <div id="selectLegendaryChest" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-yellow-600/50">
                <div class="text-4xl mb-3">üì¶</div><h2 class="text-xl font-bold text-yellow-500"></h2>
            </div>
            <div id="selectMythicalChest" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-red-600/50">
                <div class="text-4xl mb-3">‚ú®</div><h2 class="text-xl font-bold text-red-500"></h2>
            </div>
            <div id="selectRareChest" class="mode-card glass p-8 rounded-2xl cursor-pointer flex flex-col justify-center items-center h-48 border-b-4 border-blue-600/50">
                <div class="text-4xl mb-3">üíé</div><h2 class="text-xl font-bold text-blue-400"></h2>
            </div>
        </div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <div id="gameContainer" class="hidden w-full max-w-7xl mx-auto px-4 pb-10 text-center sm:text-left">
        <div class="mb-6 flex items-center">
            <button id="resetModeButton" class="glass px-4 py-2 rounded-xl text-sm font-bold flex items-center gap-2 hover:bg-white/10 transition"></button>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 items-start">
            
            <!-- –°–ª–µ–≤–∞: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ -->
            <div class="lg:col-span-4 flex flex-col gap-6">
                <div class="glass p-6 rounded-3xl flex flex-col items-center shadow-2xl">
                    <h2 id="clickerTitle" class="text-2xl font-black mb-6 uppercase tracking-tight text-center"></h2>
                    <div id="clickArea" class="w-full aspect-square bg-gray-900/50 rounded-2xl flex items-center justify-center mb-6 border-2 border-dashed border-white/10 cursor-pointer overflow-hidden shadow-inner group">
                        <img id="clickTarget" src="https://placehold.co/300x300?text=Click+Me" class="max-w-full max-h-full object-contain transition group-active:scale-95 duration-75">
                    </div>
                    
                    <div class="w-full flex flex-col gap-3">
                        <div class="text-center">
                            <span class="clicks-label-text text-gray-400 text-xs font-bold uppercase tracking-widest"></span>
                            <div id="clickCountDisplay" class="text-3xl font-black text-white font-mono mt-1">0 / 1</div>
                        </div>
                        
                        <div class="grid grid-cols-4 gap-2 mt-2">
                            <button id="btnX1" class="bg-gray-700/50 hover:bg-gray-600 py-3 rounded-xl font-bold text-sm transition">x1</button>
                            <button id="btnX10" class="bg-cyan-800/60 hover:bg-cyan-700 py-3 rounded-xl font-bold text-sm transition text-cyan-200">x10</button>
                            <button id="btnX100" class="bg-purple-800/60 hover:bg-purple-700 py-3 rounded-xl font-bold text-sm transition text-purple-200">x100</button>
                            <button id="btnX1000" class="bg-red-800/60 hover:bg-red-700 py-3 rounded-xl font-bold text-sm transition text-red-200">x1k</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –¶–µ–Ω—Ç—Ä: –°—Ç–∞—Ç—ã –∏ –®–∞–Ω—Å—ã -->
            <div class="lg:col-span-4 flex flex-col gap-6 text-left">
                <div class="glass p-6 rounded-3xl shadow-xl">
                    <h3 class="stat-header text-xs font-black text-gray-500 uppercase tracking-widest mb-4 border-b border-white/5 pb-2"></h3>
                    <div class="flex justify-between items-end">
                        <span id="killCountLabel" class="text-gray-400 text-sm font-semibold"></span>
                        <span id="killCount" class="text-4xl font-black text-white leading-none">0</span>
                    </div>
                    <div class="grid grid-cols-2 gap-3 mt-6">
                        <div class="bg-gray-900/40 p-2 rounded-xl border border-white/5 flex justify-between items-center px-3">
                            <span class="text-xs text-cyan-400 font-bold italic">2x DROP</span>
                            <input type="checkbox" id="toggle2xDrop" class="w-4 h-4 cursor-pointer">
                        </div>
                        <div class="bg-gray-900/40 p-2 rounded-xl border border-white/5 flex justify-between items-center px-3">
                            <span class="text-xs text-purple-400 font-bold italic">4x DROP</span>
                            <input type="checkbox" id="toggle4xDrop" class="w-4 h-4 cursor-pointer">
                        </div>
                    </div>
                </div>

                <div class="glass p-6 rounded-3xl shadow-xl">
                    <h3 class="last-drop-header text-xs font-black text-gray-500 uppercase tracking-widest mb-4 border-b border-white/5 pb-2"></h3>
                    <div id="lastDropDisplay" class="text-center p-4 bg-gray-900/50 rounded-2xl min-h-[64px] flex items-center justify-center font-bold text-lg shadow-inner"></div>
                </div>

                <div id="chancesContainer" class="glass p-6 rounded-3xl shadow-xl">
                    <div id="legendaryChestChances" class="chance-block hidden space-y-4">
                        <div class="grid grid-cols-2 gap-2">
                            <div class="bg-gray-900/60 p-2 rounded-lg text-center"><span class="label-ase text-[10px] text-yellow-400 font-black block"></span><input type="checkbox" id="toggleLFC_ASE"></div>
                            <div class="bg-gray-900/60 p-2 rounded-lg text-center"><span class="label-logia text-[10px] text-blue-400 font-black block"></span><input type="checkbox" id="toggleLFCLogia"></div>
                        </div>
                        <ul class="text-sm space-y-2">
                            <li class="flex justify-between"><span>Mythical:</span><span class="text-red-500 font-bold"><span id="lfc_myth_chance">0.5</span>%</span></li>
                        </ul>
                    </div>

                    <div id="rareChestChances" class="chance-block hidden space-y-4">
                        <div class="grid grid-cols-2 gap-2">
                            <div class="bg-gray-900/60 p-2 rounded-lg text-center"><span class="label-ase text-[10px] text-yellow-400 font-black block"></span><input type="checkbox" id="toggleRFCR_ASE"></div>
                            <div class="bg-gray-900/60 p-2 rounded-lg text-center"><span class="label-logia text-[10px] text-blue-400 font-black block"></span><input type="checkbox" id="toggleRFCRLogia"></div>
                        </div>
                    </div>

                    <div id="krakenChances" class="chance-block hidden space-y-2">
                         <div class="flex items-center justify-between bg-green-900/20 p-2 rounded-lg mb-3 border border-green-500/20">
                            <span class="label-great-kraken text-[10px] font-black text-green-400"></span>
                            <input type="checkbox" id="toggleGreatKraken">
                         </div>
                         <ul class="text-sm space-y-1">
                            <li class="flex justify-between"><span>Book of Spirits</span><span class="text-green-400 font-bold"><span id="chance-k-spirits">45</span>%</span></li>
                            <li class="flex justify-between"><span>Mysterious Book</span><span class="text-yellow-400 font-bold"><span id="chance-k-book">15</span>%</span></li>
                            <li class="flex justify-between text-gray-500"><span><span class="label-nothing"></span></span><span><span id="chance-k-nothing">30</span>%</span></li>
                         </ul>
                         <div id="fruitChancesContainer" class="mt-4 pt-4 border-t border-white/5">
                            <div class="flex gap-2 mb-3">
                                <div class="flex-1 bg-gray-900/60 p-1 rounded text-center"><span class="text-[9px] text-yellow-500 font-bold block">ASE</span><input type="checkbox" id="toggleASE"></div>
                                <div class="flex-1 bg-gray-900/60 p-1 rounded text-center"><span class="text-[9px] text-blue-500 font-bold block">LOGIA</span><input type="checkbox" id="toggleLogia"></div>
                            </div>
                            <ul class="text-xs space-y-1.5">
                                <li class="flex justify-between text-yellow-400"><span>Legendary</span> <span id="chanceLegendary">4</span>%</li>
                                <li class="flex justify-between text-red-500 font-bold"><span>Mythical</span> <span id="chanceMythical">0.5</span>%</li>
                            </ul>
                         </div>
                    </div>

                    <div id="christmasPresentsChances" class="chance-block hidden">
                        <ul class="space-y-2 text-sm">
                            <li class="flex justify-between"><span class="rainbow-text font-black">Iceborn candy cane</span><span class="font-bold"><span id="chance-xm-cane-ice">0.005</span>%</span></li>
                            <li class="flex justify-between text-gray-500"><span><span class="label-nothing"></span></span><span><span id="chance-xm-nothing">99.995</span>%</span></li>
                        </ul>
                    </div>

                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –±–æ—Å—Å–æ–≤ -->
                    <div id="baalChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between"><span>Snake Fire</span><span>20%</span></li>
                        <li class="flex justify-between text-red-500 font-black italic animate-pulse"><span>Prestige WE</span> <span><span id="chance-b-prestige">0.001</span>%</span></li>
                        <li class="flex justify-between text-gray-500"><span><span class="label-nothing"></span></span><span><span id="chance-b-nothing">62.999</span>%</span></li>
                    </div>
                    <div id="juzoChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between text-purple-400"><span>Kira Kira</span><span>5%</span></li>
                        <li class="flex justify-between text-red-500 font-bold"><span>Mythic Chest</span><span>0.5%</span></li>
                        <li class="flex justify-between text-gray-500 italic"><span><span class="label-nothing"></span></span><span><span id="chance-j-nothing">92.5</span>%</span></li>
                    </div>
                    <div id="hawkEyeChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between text-red-500 font-bold"><span>Dark Blade</span><span>0.5%</span></li>
                        <li class="flex justify-between text-yellow-400"><span>Blueprint LFC</span><span>1%</span></li>
                        <li class="flex justify-between text-gray-500 italic"><span><span class="label-nothing"></span></span><span><span id="chance-h-nothing">95.5</span>%</span></li>
                    </div>
                    <div id="rogerChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between text-red-500 font-bold"><span>Roger's Ace</span><span>0.5%</span></li>
                        <li class="flex justify-between text-yellow-400"><span>Blueprint LFC</span><span>1%</span></li>
                        <li class="flex justify-between text-gray-500 italic"><span><span class="label-nothing"></span></span><span><span id="chance-r-nothing">96.5</span>%</span></li>
                    </div>
                    <div id="lawChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between text-purple-400"><span>Outfit / Cape</span><span>15%</span></li>
                        <li class="flex justify-between text-red-500 font-bold"><span>Kikoku</span><span>0.5%</span></li>
                        <li class="flex justify-between text-gray-500 italic"><span><span class="label-nothing"></span></span><span><span id="chance-l-nothing">63.5</span>%</span></li>
                    </div>
                    <div id="gravitoChances" class="chance-block hidden text-sm space-y-1">
                        <li class="flex justify-between text-blue-400"><span>Gravity Blade</span><span>15%</span></li>
                        <li class="flex justify-between text-red-500 font-bold"><span>Hover / Meteor</span><span>1%</span></li>
                        <li class="flex justify-between text-gray-500 italic"><span><span class="label-nothing"></span></span><span><span id="chance-g-nothing">48</span>%</span></li>
                    </div>
                    <div id="mythicalChestChances" class="chance-block hidden text-center font-black text-red-500 uppercase border border-red-500/20 p-2 rounded-lg">100% Mythical</div>
                </div>
            </div>

            <!-- –°–ø—Ä–∞–≤–∞: –ò—Å—Ç–æ—Ä–∏—è –∏ –ö–æ–ª–ª–µ–∫—Ü–∏—è -->
            <div class="lg:col-span-4 flex flex-col gap-6 text-left">
                <div class="glass p-6 rounded-3xl shadow-xl flex flex-col h-48 sm:h-64">
                    <h3 class="history-header text-xs font-black text-gray-500 uppercase tracking-widest mb-4 border-b border-white/5 pb-2"></h3>
                    <ul id="dropList" class="custom-scrollbar overflow-y-auto pr-2 flex-grow space-y-1"></ul>
                </div>
                
                <div id="fruitCollectionContainer" class="glass p-6 rounded-3xl shadow-xl flex flex-col flex-grow min-h-[300px]">
                    <h3 class="collection-header text-xs font-black text-gray-500 uppercase tracking-widest mb-4 border-b border-white/5 pb-2"></h3>
                    <ul id="fruitCollectionList" class="custom-scrollbar overflow-y-auto pr-2 flex-grow"></ul>
                </div>
            </div>

        </div>
    </div>
</body>
</html>